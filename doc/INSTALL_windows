This document explains the installation process for SIFT on Windows. There are three main steps:
1- installation of Cygwin
2- installation of Canopy and python packages
3- installation of SpOCK
If you encounter any difficulty during the installation, email us!

To install SIFT, administrator privilleges are not required.

Before starting, put the SIFT folder in your home directory: C:\Users\<username> and uncompress it. Putting SIFT in your home directory is not necessary but if you wish to put it somewhere else, you need to change the paths mentioned in this document accordingly. 

* First step: Cygwin
To install Cygwin, see document "Cygwin_INSTALL".

Cygwin provides a functionality similar to a Linux distribution on Windows. 
You can access you Windows files from a Cygwin terminal window. For instance, to access the "C:" drive, type in a Cygwin terminal: cd /cygdrive/c. To go to your Windows home directory, where SIFT is located: cd /cygdrive/c/Users/<user_name> (replace <user_name> with your username).
From now on, the commands need to by typed from a Cygwin terminal window. Open a Cygwin terminal window (if you choose to create an icon in the previous step, there is an icon on your Desktop).

# Second step: Canopy
Download and install Canopy and Python packages:
 - go online to https://store.enthought.com/downloads/
 - in Section "STANDARD INSTALLERS", select the Windows 64-bit version corresponding to Python 2.7 (make sure you get the version corresponding to Python 2.7)
 - follow the instructions for the installation
 - once Canopy is installed, open it (the first time you open it, it might automatically set up the Python and Canopy environments, which can take a few minutes)
 - go to the tab "Package Manager"
 - in tab "Available", search for :
  - "basemap" and click on "Install [version]" (the installation might take a minute)
  - "wxPython" and click on "Install [version]" (if it's not already installed)
  - "lxml" and click on "Install [version]" 
 - go to Tools -> Canopy Command Prompt. This opens a Canopy terminal window
  - in this Canopy terminal window, type: python -m pip install bs4
  - in this Canopy terminal window, type: where python
  - in /cygdrive/c/Users/<username>/sift/code/sift.py (recall, /cygdrive/c/Users/<username>/sift/code/sift.py is the Cygwin path, which is noted C:\Users\<username>\sift\code\sift.py in the Windows nomenclature), replace the first line "#replace this line with the path to Canopy python" with the characters "#!" followed by the path returned by the command "where python" in the previous step. If this command returned several paths, select the one with the word "Canopy" in it. For example, if the path is "C:\Users\smith\AppData\Local\Enthought\Canopy\edm\envs\User\python.exe" then replace the first line of sift.py with the line:
 #!C:\Users\cbv\AppData\Local\Enthought\Canopy\edm\envs\User\python.exe   
  - save the file /cygdrive/c/Users/<username>/sift/code/sift.py
  - in Cygwin terminal: chmod a+x /cygdrive/c/Users/<username>/sift/code/sift.py
You're done installing Canopy and the required Python packages.
If you wish, you can run the demo to test SIFT, otherwise you can directly go to the final step (installation of SpOCK). These demos are included to test the functionality of SIFT without invoking SpOCK to generate new SIFT input files. To run SIFT with one of these demo packages, go to /cygdrive/c/Users/<username>/sift/code and, from a Cygwin terminal, type:
./sift.py demo <demo_file>
where <demo_file> is one of:
 - short: a six hour run of SIFT designed to open quickly
 - long: a longer SIFT run which showcases basic SIFT functionality
 - storm: a SIFT run including several example storm systems
If these demo packages all run successfully then SIFT is set up correctly. The final step is to install SpOCK.

* Third step: SpOCK
see document "SpOCK_INSTALL_windows". In this document (see first line): "spock_dir" should be replaced by "/cygdrive/c/Users/<username>/sift/code/spock" (as explained in the beginning of this document, the folder SIFT should be in C:\Users\<username>, which is called /cygdrive/c/Users/<user_name> in Cygwin).


*** You're done installing SIFT! To launch it, please refer to Section "Normal SIFT Operation of the End User Manual". 

